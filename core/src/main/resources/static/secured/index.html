<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Banalytics - Agent</title>
    <link rel="icon" type="image/x-icon" href="../favicon.ico">
    <link rel="stylesheet" href="../css/w3.css">
    <link rel="stylesheet" href="../css/font-awesome.min.css">
    <script src="../js/common.js"></script>
    <script src="js/index.js"></script>
    <style>
        .register-in-console {
            text-decoration: underline;
            cursor: pointer;
        }

        .actions {}
        .actions > li {
            margin-top: 15px;
        }
        .actions > li > ul > li {
            margin-top: 10px;
        }
    </style>
    <script>
        function copyUuidAndGoToRegistration(){
            let uuid = document.getElementById('productUuid').innerHTML;
            window.open(`https://console.banalytics.live/secured/index.html?addNewServer=${uuid}`, 'console');
        }
    </script>
</head>
<body>
<div class="w3-container w3-asphalt w3-text-white" style="padding-top: 5%;height: calc(100vh - 105px);overflow:auto;">
    <ul class="actions">
        <li>
            <strong>Product</strong>
            <ul>
                <li>
                    <strong>UUID</strong>&nbsp;<span id="productUuid"></span><br/>
                    <span class="fa fa-user-plus register-in-console" onclick="copyUuidAndGoToRegistration()"> Add server UUID to my Banalytics account</span></li>
            </ul>
        </li>
        <li>
            <strong>Agent network details</strong>
            <ul id="networks">
                <li><strong>IP</strong></li>
                <li><strong>Mask</strong></li>
                <li><strong>MAC</strong></li>
            </ul>
        </li>
        <li>
            <strong>Configuration</strong>
            <ul>
                <li><a href="/api/secured/system/download-configuration" onclick="return confirm('Download instance configuration ?');">Download instance configuration</a></li>
                <li>
                    Upload configuration
                    <form action="/api/secured/system/upload-configuration" target="_blank"
                          onsubmit="return confirm('Upload and initialize server configuration ?\nServer UUID can changed according to new configuration.');"
                          method="post" enctype="multipart/form-data">
                        <input type="file" id="file" name="file" accept=".zip" required placeholder="Choose configuration"><br/>
                        <button type="submit">Upload</button>
                    </form>
                </li>
                <li><a href="/api/secured/system/reset-configuration" target="_blank" onclick="return confirm('Reset configuration ?\nServer UUID will not to be changed.');">Reset configuration</a></li>
            </ul>
        </li>
        <li>
            <strong>System Actions</strong>
            <ul>
                <li><a href="/api/secured/system/restart" onclick="return confirm('Restart Service ?');">Restart Service</a></li>
                <li><a href="/api/public/authentication/logout">Logout</a></li>
            </ul>
        </li>
    </ul>
</div>
<footer class="w3-center w3-white w3-padding-32" style="position: absolute; width:100%; bottom:0;height:105px">
    <a href="https://banalytics.live" target="banalytics.live" class="w3-button w3-white" i18n="powered.by">Powered by Banalytics.live</a>
    <div class="w3-right-align"
         style="display: flex;flex-direction: column;width: 200px;position: absolute;right: 10px;top: 13px;">
        <a href="https://banalytics.live/index.html?layout=knowledge-base.html&anchor=PrivacyPolicy"
           rel="noopener noreferrer" target="privacy-policy" i18n="privacy.statement">Privacy Policy</a>
        <a href="https://banalytics.live/index.html?layout=knowledge-base.html&anchor=TermsOfUse"
           rel="noopener noreferrer" target="terms-of-use" i18n="terms.of.use">Terms and Conditions</a>

    </div>
</footer>
</body>
</html>